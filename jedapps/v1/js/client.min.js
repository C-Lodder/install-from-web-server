Joomla.apps={view:"dashboard",id:0,ordering:"",cssfiles:[],jsfiles:[],list:0};
Joomla.loadweb=function(a){if(""==a)return!1;var b=/^index.php/;if(!RegExp(apps_base_url).test(a)&&!b.test(a))return window.open(a,"_blank"),!1;a+="&product="+apps_product+"&release="+apps_release+"&dev_level="+apps_dev_level+"&list="+(Joomla.apps.list?"list":"grid");b=Joomla.apps.ordering;""!==b&&jQuery("#com-apps-ordering").val()&&(b=jQuery("#com-apps-ordering").val());b&&(a+="&ordering="+b);jQuery("html, body").animate({scrollTop:0},0);jQuery("#myTabContent").length&&(jQuery("#appsloading").css("top",
jQuery("#myTabContent").position().top-jQuery(window).scrollTop()).css("left",jQuery("#myTabContent").position().left-jQuery(window).scrollLeft()).css("width",jQuery("#myTabContent").width()).css("height",jQuery("#myTabContent").height()),jQuery.event.trigger("ajaxStart"));jQuery.ajax({url:a,dataType:"jsonp",cache:!0,jsonpCallback:"jedapps_jsonpcallback",timeout:2E4,success:function(a){jQuery("#web-loader").hide();jQuery("#jed-container").html(a.data);jQuery("#myTabContent").length&&jQuery.event.trigger("ajaxStop")},
fail:function(){jQuery("#web-loader").hide();jQuery("#web-loader-error").show();jQuery("#myTabContent").length&&jQuery.event.trigger("ajaxStop")},complete:function(){jQuery("#joomlaapsinstallatinput")&&jQuery("#joomlaapsinstallatinput").val(apps_installat_url);Joomla.apps.clickforlinks();Joomla.apps.clicker();Joomla.apps.list&&jQuery(".list-view").click();jQuery("#myTabContent").length&&jQuery.event.trigger("ajaxStop")},error:function(a,b,d){a.responseText&&jQuery("#web-loader-error").html(a.responseText);
jQuery("#web-loader").hide();jQuery("#web-loader-error").show();jQuery("#myTabContent").length&&jQuery.event.trigger("ajaxStop")}});return!0};Joomla.webpaginate=function(a,b){jQuery("#web-paginate-loader").show();jQuery.get(a,function(a){jQuery("#web-paginate-loader").hide();jQuery("#"+b).html(a.data)},"jsonp").fail(function(){jQuery("#web-paginate-loader").hide()})};
Joomla.installfromwebexternal=function(a){return!0==confirm("You will be redirected to the following link to complete the registration/purchase - \n"+a)?(jQuery("#adminForm").attr("action",a),jQuery("input[name=task]").prop("disabled",!0),jQuery("input[name=install_directory]").prop("disabled",!0),jQuery("input[name=install_url]").prop("disabled",!0),jQuery("input[name=installtype]").prop("disabled",!0),jQuery("input[name=filter_search]").prop("disabled",!0),!0):!1};
Joomla.installfromweb=function(a,b){if(""==a)return alert("This extension cannot be installed via the web. Please visit the developer's website to purchase/download."),!1;jQuery("#install_url").val(a);jQuery("#uploadform-web-url").text(a);b?(jQuery("#uploadform-web-name").text(b),jQuery("#uploadform-web-name-label").show()):jQuery("#uploadform-web-name-label").hide();jQuery("#jed-container").slideUp(300);jQuery("#uploadform-web").show();return!0};
Joomla.installfromwebcancel=function(){jQuery("#uploadform-web").hide();jQuery("#jed-container").slideDown(300);Joomla.apps.list&&jQuery(".list-view").click()};
Joomla.installfromwebajaxsubmit=function(){var a="&view="+Joomla.apps.view;Joomla.apps.id&&(a+="&id="+Joomla.apps.id);if(jQuery("#com-apps-searchbox").val())var b=encodeURI(jQuery("#com-apps-searchbox").val().toLowerCase().replace(/ +/g,"_").replace(/[^a-z0-9-_]/g,"").trim()),a=a+("&filter_search="+b);b=Joomla.apps.ordering;""!==b&&jQuery("#com-apps-ordering").val()&&(b=jQuery("#com-apps-ordering").val());b&&(a+="&ordering="+b);Joomla.loadweb(apps_base_url+"index.php?format=json&option=com_apps"+
a)};
Joomla.apps.clickforlinks=function(){jQuery("a.transcode").each(function(a,b){var c=jQuery(this).attr("href");(function(){jQuery(b).live("click",function(a){var b=/^index.php/;RegExp(apps_base_url).test(c)||b.test(c)?(Joomla.apps.view=c.replace(/^.+[&\?]view=(\w+).*$/,"$1"),"dashboard"==Joomla.apps.view?Joomla.apps.id=0:"category"==Joomla.apps.view&&(Joomla.apps.id=c.replace(/^.+[&\?]id=(\d+).*$/,"$1")),a.preventDefault(),Joomla.loadweb(apps_base_url+c)):(a.preventDefault(),Joomla.loadweb(c))})})();jQuery(this).attr("href",
"#")})};
Joomla.apps.initialize=function(){jQuery("#myTabContent").length&&(jQuery('<div id="appsloading"></div>').css("background","rgba(255, 255, 255, .8) url('../media/jui/img/ajax-loader.gif') 50% 15% no-repeat").css("top",jQuery("#myTabContent").position().top-jQuery(window).scrollTop()).css("left",jQuery("#myTabContent").position().left-jQuery(window).scrollLeft()).css("width",jQuery("#myTabContent").width()).css("height",jQuery("#myTabContent").height()).css("position","fixed").css("z-index","1000").css("opacity",
"0.80").css("-ms-filter","progid:DXImageTransform.Microsoft.Alpha(Opacity = 80)").css("filter","alpha(opacity = 80)").appendTo("#myTabContent"),jQuery("#appsloading").ajaxStart(function(){jQuery(this).show()}).ajaxStop(function(){jQuery(this).hide()}));Joomla.loadweb(apps_base_url+"index.php?format=json&option=com_apps&view=dashboard");Joomla.apps.clickforlinks();jQuery("#com-apps-searchbox").live("keypress",function(a){13==a.which&&Joomla.apps.initiateSearch()});jQuery("#search-reset").live("click",
function(a){jQuery("#com-apps-searchbox").val("");Joomla.apps.initiateSearch()});jQuery("#com-apps-ordering").live("change",function(a){Joomla.apps.ordering=jQuery(this).prop("selectedIndex");Joomla.installfromwebajaxsubmit()});""!=apps_installfrom_url&&Joomla.installfromweb(apps_installfrom_url)};Joomla.apps.initiateSearch=function(){Joomla.apps.view="dashboard";Joomla.installfromwebajaxsubmit()};
Joomla.apps.clicker=function(){jQuery(".grid-view").live("click",function(){Joomla.apps.list=0;jQuery(".list-container").addClass("hidden");jQuery(".grid-container").removeClass("hidden")});jQuery(".list-view").live("click",function(){Joomla.apps.list=1;jQuery(".grid-container").addClass("hidden");jQuery(".list-container").removeClass("hidden")})};
